#!/bin/bash
for schedule in ./apps_mix/gpubench/a2a-baseline/1B ./apps_mix/gpubench/a2a-baseline/4B ./apps_mix/gpubench/a2a-baseline/8B ./apps_mix/gpubench/a2a-baseline/64B ./apps_mix/gpubench/a2a-baseline/512B ./apps_mix/gpubench/a2a-baseline/4KiB ./apps_mix/gpubench/a2a-baseline/32KiB ./apps_mix/gpubench/a2a-baseline/256KiB ./apps_mix/gpubench/a2a-baseline/2MiB ./apps_mix/gpubench/a2a-baseline/16MiB ./apps_mix/gpubench/a2a-baseline/128MiB ./apps_mix/gpubench/a2a-baseline/1GiB ./apps_mix/gpubench/a2a-nccl/1B ./apps_mix/gpubench/a2a-nccl/4B ./apps_mix/gpubench/a2a-nccl/8B ./apps_mix/gpubench/a2a-nccl/64B ./apps_mix/gpubench/a2a-nccl/512B ./apps_mix/gpubench/a2a-nccl/4KiB ./apps_mix/gpubench/a2a-nccl/32KiB ./apps_mix/gpubench/a2a-nccl/256KiB ./apps_mix/gpubench/a2a-nccl/2MiB ./apps_mix/gpubench/a2a-nccl/16MiB ./apps_mix/gpubench/a2a-nccl/128MiB ./apps_mix/gpubench/a2a-nccl/1GiB ./apps_mix/gpubench/a2a-nvlink/1B ./apps_mix/gpubench/a2a-nvlink/4B ./apps_mix/gpubench/a2a-nvlink/8B ./apps_mix/gpubench/a2a-nvlink/64B ./apps_mix/gpubench/a2a-nvlink/512B ./apps_mix/gpubench/a2a-nvlink/4KiB ./apps_mix/gpubench/a2a-nvlink/32KiB ./apps_mix/gpubench/a2a-nvlink/256KiB ./apps_mix/gpubench/a2a-nvlink/2MiB ./apps_mix/gpubench/a2a-nvlink/16MiB ./apps_mix/gpubench/a2a-nvlink/128MiB ./apps_mix/gpubench/a2a-nvlink/1GiB ./apps_mix/gpubench/ar-baseline/1B ./apps_mix/gpubench/ar-baseline/4B ./apps_mix/gpubench/ar-baseline/8B ./apps_mix/gpubench/ar-baseline/64B ./apps_mix/gpubench/ar-baseline/512B ./apps_mix/gpubench/ar-baseline/4KiB ./apps_mix/gpubench/ar-baseline/32KiB ./apps_mix/gpubench/ar-baseline/256KiB ./apps_mix/gpubench/ar-baseline/2MiB ./apps_mix/gpubench/ar-baseline/16MiB ./apps_mix/gpubench/ar-baseline/128MiB ./apps_mix/gpubench/ar-baseline/1GiB ./apps_mix/gpubench/ar-nccl/1B ./apps_mix/gpubench/ar-nccl/4B ./apps_mix/gpubench/ar-nccl/8B ./apps_mix/gpubench/ar-nccl/64B ./apps_mix/gpubench/ar-nccl/512B ./apps_mix/gpubench/ar-nccl/4KiB ./apps_mix/gpubench/ar-nccl/32KiB ./apps_mix/gpubench/ar-nccl/256KiB ./apps_mix/gpubench/ar-nccl/2MiB ./apps_mix/gpubench/ar-nccl/16MiB ./apps_mix/gpubench/ar-nccl/128MiB ./apps_mix/gpubench/ar-nccl/1GiB ./apps_mix/gpubench/ar-nccl/8GiB ./apps_mix/gpubench/hlo-baseline/1B ./apps_mix/gpubench/hlo-baseline/4B ./apps_mix/gpubench/hlo-baseline/8B ./apps_mix/gpubench/hlo-baseline/64B ./apps_mix/gpubench/hlo-baseline/512B ./apps_mix/gpubench/hlo-baseline/4KiB ./apps_mix/gpubench/hlo-baseline/32KiB ./apps_mix/gpubench/hlo-baseline/256KiB ./apps_mix/gpubench/hlo-baseline/2MiB ./apps_mix/gpubench/hlo-baseline/16MiB ./apps_mix/gpubench/hlo-baseline/128MiB ./apps_mix/gpubench/hlo-baseline/1GiB ./apps_mix/gpubench/hlo-nccl/1B ./apps_mix/gpubench/hlo-nccl/4B ./apps_mix/gpubench/hlo-nccl/8B ./apps_mix/gpubench/hlo-nccl/64B ./apps_mix/gpubench/hlo-nccl/512B ./apps_mix/gpubench/hlo-nccl/4KiB ./apps_mix/gpubench/hlo-nccl/32KiB ./apps_mix/gpubench/hlo-nccl/256KiB ./apps_mix/gpubench/hlo-nccl/2MiB ./apps_mix/gpubench/hlo-nccl/16MiB ./apps_mix/gpubench/hlo-nccl/128MiB ./apps_mix/gpubench/hlo-nccl/1GiB
do
	for nam in l
	do
		for split in 100
		do
		python3 runner.py "$schedule" auto -am "$nam" -as "$split" -n 1 -mn 1 -mx 100 -t 600 -a 0.05 -b 0.05 -of csv -ro +file -p 4
		done
	done
done